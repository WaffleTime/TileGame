<States>

	<Menu>

		<Intro>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='Predefined1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<Attributes>
					<x>350</x>
					<y>380</y>
					<width>150</width>
					<height>50</height>
					<text>Start Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Entity name='Custom1' type='KeyPress'>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,TestLevel</state>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/24.</key>
				<OnPressed>
					<type>action/state</type>
					<system>Function_Name</system>
					<entity>
						<entityType>KeyPress</entityType>
						<entitytName>Custom1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>KeyPress</entityType>
						<entitytName>Custom1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>350</x>
				<y>380</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Function_Name</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Function_Name</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action/state</type>
					<system>Function_Name</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Intro>

		<MainMenu>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='Player' type='Human'>
				<assembleFunc>Assemble_Player</assembleFunc>
				<drawPriority>7</drawPriority>
				<Attributes>
					<WindPos>400,400</WindPos>
					<FrameWidth>32</FrameWidth>
					<FrameHeight>48</FrameHeight>
					<Delay>0.25</Delay>
					<Texture name='DEFAULT'>playerDefault.png</Texture>
					<Texture name='walk'>playerWalk.png</Texture>
					<Texture name='jump'>playerJump.png</Texture>
				</Attributes>
			</Entity>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>0</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			
			<Entity name='Title' type='TextBox'>
				<assembleFunc>Assemble_Text_Box</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>350</x>
					<y>100</y>
					<width>250</width>
					<height>50</height>
					<text>The God of Gods</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
			</Entity>
			
			<Entity name='NewGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>200</y>
					<width>150</width>
					<height>50</height>
					<text>New Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,NewGame</state>
				</Component>
			</Entity>
			<Entity name='SavedGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Saved Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,ChooseSavedGame</state>
				</Component>
			</Entity>
			<Entity name='Instructions' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>400</y>
					<width>150</width>
					<height>50</height>
					<text>Instructions</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,Instructions</state>
				</Component>
			</Entity>
			<Entity name='Options' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>500</y>
					<width>150</width>
					<height>50</height>
					<text>Options</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,Options</state>
				</Component>
			</Entity>
			<Entity name='QuitGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>600</y>
					<width>150</width>
					<height>50</height>
					<text>Quit Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>QUIT,QUIT</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>200</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>400</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>500</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>600</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</MainMenu>

		<Options>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Options>
			
		<Instructions>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>

			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Instructions>

	</Menu>

	<Game>	
		<NewGame>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MapCrawler' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>SavedGame</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>New_Save</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<System>
				<type>state</type>
				<systemFunc>Generate_World_Data</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
		</NewGame>
		<Continue>
			<viewWidth>512</viewWidth>
			<viewHeight>384</viewHeight>
			<Entity name='OnScreenEntities' type='Manager'>
				<assembleFunc>Entity_PQueue</assembleFunc>
				<drawPriority>3</drawPriority>
				<Attributes>
					<entity name='Player' type='Human'>
						<assembleFunc>Assemble_Player</assembleFunc>
						<drawPriority>7</drawPriority>
						<Attributes>
							<WindPos>400,450</WindPos>
							<FrameWidth>32</FrameWidth>
							<FrameHeight>48</FrameHeight>
							<Delay>0.25</Delay>
							<Texture name='DEFAULT'>playerDefault.png</Texture>
							<Texture name='walk'>playerWalk.png</Texture>
							<Texture name='jump'>playerJump.png</Texture>
						</Attributes>
					</entity>
				</Attributes>
						
			</Entity>
			<Entity name='PlayerScreen' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>SavedGame</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>PlayerScreen</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			
		</Continue>

		<ChooseSavedGame>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='Save1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Save1</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,Continue</state>
				</Component>
				<Component name='Misc'>
					<componentID>SaveDir</componentID>
					<storage>\SavedGames\Save0\ChunkData\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Save_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
			<Entity name='TestSave' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>400</y>
					<width>150</width>
					<height>50</height>
					<text>TestSave</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,Continue</state>
				</Component>
				<Component name='Misc'>
					<componentID>SaveDir</componentID>
					<storage>\SavedGames\TestSave\ChunkData\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>400</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Save_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
			
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</ChooseSavedGame>
	</Game>

</States>