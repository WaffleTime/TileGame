<States>

	<Menu>

		<Intro>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='Title' type='TextBox'>
				<assembleFunc>Assemble_Text_Box</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>325</x>
					<y>100</y>
					<width>300</width>
					<height>50</height>
					<text>Welcome to the Intro!</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
			</Entity>
			<Entity name='Predefined1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Main Menu</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Entity name='Custom1' type='KeyPress'>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MapEdi</state>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/24.25.</key>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>KeyPress</entityType>
						<entitytName>Custom1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Predefined1</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Intro>

		<MainMenu>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>0</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			
			<Entity name='Title' type='TextBox'>
				<assembleFunc>Assemble_Text_Box</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>350</x>
					<y>100</y>
					<width>250</width>
					<height>50</height>
					<text>The God of Gods</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
			</Entity>
			
			<Entity name='NewGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>200</y>
					<width>150</width>
					<height>50</height>
					<text>New Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,ChooseMapDir</state>
				</Component>
			</Entity>
			<Entity name='SavedGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Saved Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,ChooseSavedGame</state>
				</Component>
			</Entity>
			<Entity name='Instructions' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>400</y>
					<width>150</width>
					<height>50</height>
					<text>Instructions</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,Instructions</state>
				</Component>
			</Entity>
			<Entity name='Options' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>500</y>
					<width>150</width>
					<height>50</height>
					<text>Options</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,Options</state>
				</Component>
			</Entity>
			<Entity name='QuitGame' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>400</x>
					<y>600</y>
					<width>150</width>
					<height>50</height>
					<text>Quit Game</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>QUIT,QUIT</state>
				</Component>
			</Entity>
			<Entity name='MapEdi' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<x>150</x>
					<y>400</y>
					<width>150</width>
					<height>50</height>
					<text>MapEdi!</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,ChooseMapDir</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>200</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>NewGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>SavedGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>400</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Instructions</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>500</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Options</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>400</x>
				<y>600</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>QuitGame</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Input type='hotspot'>
				<x>150</x>
				<y>400</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>MapEdi</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>MapEdi</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>MapEdi</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</MainMenu>

		<Options>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Options>
			
		<Instructions>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>

			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</Instructions>
		<ChooseMapDir>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='Map1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Map1</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MapEdi</state>
				</Component>
				<Component name='Misc'>
					<componentID>Dir</componentID>
					<storage>\MapData\Map1\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Map_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
		</ChooseMapDir>
		<MapEdi>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MapCrawler' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>MapEdi</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='Menu' type='State'>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,SaveMapMCData</state>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/36.</key>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>State</entityType>
						<entitytName>Menu</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Entity name='Right' type='Direction'>
				<Component name='Position'>
					<componentID>direction</componentID>
					<positionX>1</positionX>
					<positionY>0</positionY>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/72.</key>
				<OnReleased>
					<system>Move_Chunk_Position</system>
					<entity>
						<entityType>Direction</entityType>
						<entitytName>Right</entitytName>
						<componentName>Offset</componentName>
					</entity>
					<entity>
						<entityType>View</entityType>
						<entitytName>MapCrawler</entitytName>
						<componentName>ChunkMan</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Entity name='Left' type='Direction'>
				<Component name='Position'>
					<componentID>direction</componentID>
					<positionX>-1</positionX>
					<positionY>0</positionY>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/71.</key>
				<OnReleased>
					<system>Move_Chunk_Position</system>
					<entity>
						<entityType>Direction</entityType>
						<entitytName>Left</entitytName>
						<componentName>Offset</componentName>
					</entity>
					<entity>
						<entityType>View</entityType>
						<entitytName>MapCrawler</entitytName>
						<componentName>ChunkMan</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Entity name='Up' type='Direction'>
				<Component name='Position'>
					<componentID>direction</componentID>
					<positionX>0</positionX>
					<positionY>-1</positionY>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/73.</key>
				<OnReleased>
					<system>Move_Chunk_Position</system>
					<entity>
						<entityType>Direction</entityType>
						<entitytName>Up</entitytName>
						<componentName>Offset</componentName>
					</entity>
					<entity>
						<entityType>View</entityType>
						<entitytName>MapCrawler</entitytName>
						<componentName>ChunkMan</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Entity name='Down' type='Direction'>
				<Component name='Position'>
					<componentID>direction</componentID>
					<positionX>0</positionX>
					<positionY>1</positionY>
				</Component>
			</Entity>
			<Input type='key'>
				<key>/74.</key>
				<OnReleased>
					<system>Move_Chunk_Position</system>
					<entity>
						<entityType>Direction</entityType>
						<entitytName>Down</entitytName>
						<componentName>Offset</componentName>
					</entity>
					<entity>
						<entityType>View</entityType>
						<entitytName>MapCrawler</entitytName>
						<componentName>ChunkMan</componentName>
					</entity>
				</OnReleased>
			</Input>
			<Entity name='StartMousePos' type='TmpStorage'>
				<Component name='Position'>
					<componentID>MouseTilePos</componentID>
					<positionX>0</positionX>
					<positionY>0</positionY>
				</Component>
			</Entity>
			<Input type='mouse'>
				<button>0</button>
				<OnPressed>
					<type>action</type>
					<system>Save_Mouse_Tile_Pos</system>
					<entity>
						<entityType>TmpStorage</entityType>
						<entitytName>StartMousePos</entitytName>
						<componentName>StartPos</componentName>
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Alter_Selected_Tile_Area</system>
					<entity>
						<entityType>View</entityType>
						<entitytName>MapCrawler</entitytName>
						<componentName>ChunkMan</componentName>
					</entity>
					<entity>
						<entityType>TmpStorage</entityType>
						<entitytName>StartMousePos</entitytName>
						<componentName>StartPos</componentName>
					</entity>
				</OnReleased>
			</Input>
		</MapEdi>
		<SaveMapMCData>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MapCrawler' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>-1</drawPriority>
				<Attributes>
					<ChunkDataDir>SavedGame</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			
			<Entity name='MapBoundary' type='Storage'>
				<Component name='Misc'>
					<componentID>LeftBound</componentID>
					<storage>0</storage>
				</Component>
				<Component name='Misc'>
					<componentID>RightBound</componentID>
					<storage>0</storage>
				</Component>
				<Component name='Misc'>
					<componentID>TopBound</componentID>
					<storage>0</storage>
				</Component>
				<Component name='Misc'>
					<componentID>BottomBound</componentID>
					<storage>0</storage>
				</Component>
			</Entity>
			<System>
				<type>action</type>
				<systemFunc>Determine_Map_Boundaries</systemFunc>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>MapBoundary</entitytName>
					<componentName>boundary</componentName>
				</entity>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			
			<System>
				<type>action</type>
				<systemFunc>Setup_Markov_Data_Files</systemFunc>
			</System>
			
			<Entity name='Counter' type='Storage'>
				<Component name='Counter'>
					<componentID>x</componentID>
				</Component>
				<Component name='Counter'>
					<componentID>y</componentID>
				</Component>
			</Entity>
			<Entity name='MCData' type='Storage'>
				<assembleFunc>Assemble_MCData_Storage</assembleFunc>
				<drawPriority>-1</drawPriority>
				<Attributes>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Calculate_Markov_Map_Data</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>MapBoundary</entitytName>
					<componentName>boundary</componentName>
				</entity>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>Counter</entitytName>
					<componentName>ChunkCounter</componentName>
				</entity>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>MCData</entitytName>
					<componentName>MCData</componentName>
				</entity>
			</System>
		</SaveMapMCData>
	</Menu>

	<Game>
		<ChooseMapDir>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<System>
				<type>action</type>
				<systemFunc>New_Save</systemFunc>
			</System>
			<Entity name='Map1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Map1</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,NewGame</state>
				</Component>
				<Component name='Misc'>
					<componentID>Dir</componentID>
					<storage>\MapData\Map1\MCData\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Map_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Map1</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
		</ChooseMapDir>
		<NewGame>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MapCrawler' type='WorldGen'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>-1</drawPriority>
				<Attributes>
					<ChunkDataDir>SavedGame</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<Entity name='MCData' type='Storage'>
				<assembleFunc>Assemble_MCData_Storage</assembleFunc>
				<drawPriority>-1</drawPriority>
				<Attributes>
				</Attributes>
			</Entity>
			<System>
				<type>action</type>
				<systemFunc>Load_MCData</systemFunc>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>MCData</entitytName>
					<componentName>MCData</componentName>
				</entity>
				<entity>
					<entityType>WorldGen</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='Counter' type='WorldGen'>
				<Component name='Counter'>
					<componentID>spiralSideCount</componentID>
				</Component>
				<Component name='Counter'>
					<componentID>moveCount</componentID>
				</Component>
				<Component name='Misc'>
					<componentID>maxMoves</componentID>
					<storage>6</storage>
				</Component>
				<Component name='Counter'>
					<componentID>chunkCount</componentID>
				</Component>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Generate_World_Data</systemFunc>
				<entity>
					<entityType>WorldGen</entityType>
					<entitytName>MapCrawler</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
				<entity>
					<entityType>WorldGen</entityType>
					<entitytName>Counter</entitytName>
					<componentName>MoveCounter</componentName>
				</entity>
				<entity>
					<entityType>Storage</entityType>
					<entitytName>MCData</entitytName>
					<componentName>MCData</componentName>
				</entity>
			</System>
		</NewGame>
		<Continue>
			<viewWidth>512</viewWidth>
			<viewHeight>384</viewHeight>
			<Entity name='OnScreenEntities' type='EntityManager'>
				<assembleFunc>Entity_PQueue</assembleFunc>
				<drawPriority>3</drawPriority>
				<Attributes>
					<gravity>0,-100.0</gravity>
					<entity name='Player' type='Human'>
						<assembleFunc>Assemble_Player</assembleFunc>
						<drawPriority>7</drawPriority>
						<Attributes>
							<WindPos>450,300</WindPos>
							<mass>5</mass>
							<FrameWidth>32</FrameWidth>
							<FrameHeight>48</FrameHeight>
							<Delay>0.5</Delay>
							<Texture name='DEFAULT'>playerDefault.png</Texture>
							<Texture name='walk'>playerWalk.png</Texture>
							<Texture name='jump'>playerJump.png</Texture>
						</Attributes>
					</entity>
					<entity name='PlayerScreen' type='View'>
						<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
						<drawPriority>1</drawPriority>
						<Attributes>
							<ChunkDataDir>SavedGame</ChunkDataDir>
							<WorldPos>0,0</WorldPos>
							<ChunksInWind>2,2</ChunksInWind>
							<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
							<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
							<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
						</Attributes>
					</entity>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>PlayerScreen</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
				<entity>
					<entityType>EntityManager</entityType>
					<entitytName>OnScreenEntities</entitytName>
					<componentName>EntityMan</componentName>
				</entity>
			</System>
			
		</Continue>

		<ChooseSavedGame>
			<viewWidth>1024</viewWidth>
			<viewHeight>768</viewHeight>
			<Entity name='MenuDecor' type='View'>
				<assembleFunc>Assemble_Chunk_Manager</assembleFunc>
				<drawPriority>1</drawPriority>
				<Attributes>
					<ChunkDataDir>\Resources\ChunkData\MainMenu\</ChunkDataDir>
					<WorldPos>0,0</WorldPos>
					<ChunksInWind>2,2</ChunksInWind>
					<RenderState name='TileAtlas0'>itemAtlas.png</RenderState>
					<RenderState name='TileAtlas1'>groundAtlas.png</RenderState>
					<RenderState name='TileAtlas2'>backgroundAtlas.png</RenderState>
				</Attributes>
			</Entity>
			<System>
				<type>state</type>
				<systemFunc>Update</systemFunc>
				<entity>
					<entityType>View</entityType>
					<entitytName>MenuDecor</entitytName>
					<componentName>ChunkMan</componentName>
				</entity>
			</System>
			<Entity name='Save1' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>300</y>
					<width>150</width>
					<height>50</height>
					<text>Save1</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,Continue</state>
				</Component>
				<Component name='Misc'>
					<componentID>Dir</componentID>
					<storage>\SavedGames\Save0\ChunkData\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>300</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Save_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>Save1</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
			<Entity name='TestSave' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>400</x>
					<y>400</y>
					<width>150</width>
					<height>50</height>
					<text>TestSave</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Game,Continue</state>
				</Component>
				<Component name='Misc'>
					<componentID>Dir</componentID>
					<storage>\SavedGames\TestSave\ChunkData\</storage>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>400</x>
				<y>400</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnPressed>
					<type>action</type>
					<system>Change_Save_Dir</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>button</componentName>						
					</entity>
				</OnPressed>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>TestSave</entitytName>
						<componentName>state</componentName>						
					</entity>
				</OnReleased>
			</Input>
			
			<Entity name='GoBack' type='Button'>
				<assembleFunc>Assemble_Button</assembleFunc>
				<drawPriority>2</drawPriority>
				<Attributes>
					<x>150</x>
					<y>550</y>
					<width>150</width>
					<height>50</height>
					<text>Go Back</text>
					<Font name='Asman'>ASMAN.ttf</Font>
				</Attributes>
				<Component name='State'>
					<componentID>0</componentID>
					<state>Menu,MainMenu</state>
				</Component>
			</Entity>
			<Input type='hotspot'>
				<x>150</x>
				<y>550</y>
				<width>150</width>
				<height>50</height>
				<OnSelected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnSelected>
				<OnDeselected>
					<system>Oscillate_Box_Colors</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>box</componentName>
					</entity>
				</OnDeselected>
				<OnReleased>
					<system>Change_State</system>
					<entity>
						<entityType>Button</entityType>
						<entitytName>GoBack</entitytName>
						<componentName>state</componentName>
					</entity>
				</OnReleased>
			</Input>
		</ChooseSavedGame>
	</Game>

</States>